import{j as s}from"./jsx-runtime-u17CrQMm.js";import{r as t}from"./iframe-DCTwtVEg.js";import{I as J}from"./createReactComponent-BVoNDKa1.js";import{f as oe,u as F,a as pe,b as W,m as U,c as me}from"./mergeClassName-CGuaxy8D.js";import{I as fe}from"./IconPlus-BiOY6V9r.js";import{I as ge}from"./IconX-DtYP0ntd.js";import{u as xe}from"./useControlled-C-9u02Ss.js";import{u as L}from"./useStableCallback-BlvU505D.js";import{C as he,u as Re}from"./useCompositeListItem-DQGumxn-.js";import{u as be}from"./DirectionContext-gps4P05p.js";import{c as Ie,n as Ae}from"./createBaseUIEventDetails-BDhVKG5E.js";import{u as Q}from"./useBaseUiId-DBEJHERS.js";import{c as Ce,u as _e,C as Te,a as te,t as ve,b as Pe}from"./useCollapsiblePanel-Dx2mqlJD.js";import{t as ke,u as ye}from"./useOpenChangeComplete-CAiTarFg.js";import{i as Z}from"./isElementDisabled-CwHw_lZC.js";import{A as ne,a as re,b as se,c as ie,H as Ne,E as Me}from"./composite-CJk-2jGs.js";import{u as Oe}from"./useButton-BBNhskDs.js";import{s as je}from"./event-CNRsvx7q.js";import{u as Ee}from"./useRender-BavQ6iTs.js";import"./preload-helper-ClwkVg-s.js";import"./useId-DhseFPV0.js";import"./useTransitionStatus-BGkF8oIU.js";import"./useAnimationFrame-DjvyS4jC.js";import"./useOnMount-CchHJru6.js";import"./useValueAsRef-BBKeM-2h.js";import"./index-zOVaSaDz.js";import"./index-DT-vH3A5.js";import"./floating-ui.utils.dom-CWuwp5es.js";import"./detectBrowser-CYw91I8L.js";const ae=t.createContext(void 0);function $(){const e=t.useContext(ae);if(e===void 0)throw new Error(oe(10));return e}const Se={value:()=>null},He=t.forwardRef(function(o,n){const{render:h,className:R,disabled:i=!1,hiddenUntilFound:b,keepMounted:j,loopFocus:E=!0,onValueChange:S,multiple:P=!1,orientation:I="vertical",value:N,defaultValue:f,...M}=o,g=be(),k=t.useMemo(()=>{if(N===void 0)return f??[]},[N,f]),A=L(S),l=t.useRef([]),[c,u]=xe({controlled:N,default:k,name:"Accordion",state:"value"}),r=L((_,H)=>{const d=Ie(Ae);if(P)if(H){const a=c.slice();if(a.push(_),A(a,d),d.isCanceled)return;u(a)}else{const a=c.filter(p=>p!==_);if(A(a,d),d.isCanceled)return;u(a)}else{const a=c[0]===_?[]:[_];if(A(a,d),d.isCanceled)return;u(a)}}),C=t.useMemo(()=>({value:c,disabled:i,orientation:I}),[c,i,I]),O=t.useMemo(()=>({accordionItemRefs:l,direction:g,disabled:i,handleValueChange:r,hiddenUntilFound:b??!1,keepMounted:j??!1,loopFocus:E,orientation:I,state:C,value:c}),[g,i,r,b,j,E,I,C,c]),y=F("div",o,{state:C,ref:n,props:[{dir:g,role:"region"},M],stateAttributesMapping:Se});return s.jsx(ae.Provider,{value:O,children:s.jsx(he,{elementsRef:l,children:y})})}),ce=t.createContext(void 0);function z(){const e=t.useContext(ce);if(e===void 0)throw new Error(oe(9));return e}let we=(function(e){return e.index="data-index",e.disabled="data-disabled",e.open="data-open",e})({});const B={...Ce,index:e=>Number.isInteger(e)?{[we.index]:String(e)}:null,...ke,value:()=>null},Ve=t.forwardRef(function(o,n){const{className:h,disabled:R=!1,onOpenChange:i,render:b,value:j,...E}=o,{ref:S,index:P}=Re(),I=pe(n,S),{disabled:N,handleValueChange:f,state:M,value:g}=$(),k=Q(),A=j??k,l=R||N,c=t.useMemo(()=>{if(!g)return!1;for(let p=0;p<g.length;p+=1)if(g[p]===A)return!0;return!1},[g,A]),u=L((p,T)=>{i?.(p,T),!T.isCanceled&&f(A,p)}),r=_e({open:c,onOpenChange:u,disabled:l}),C=t.useMemo(()=>({open:r.open,disabled:r.disabled,hidden:!r.mounted,transitionStatus:r.transitionStatus}),[r.open,r.disabled,r.mounted,r.transitionStatus]),O=t.useMemo(()=>({...r,onOpenChange:u,state:C}),[r,C,u]),y=t.useMemo(()=>({...M,index:P,disabled:l,open:c}),[l,P,c,M]),[_,H]=t.useState(Q()),d=t.useMemo(()=>({open:c,state:y,setTriggerId:H,triggerId:_}),[c,y,H,_]),a=F("div",o,{state:y,ref:I,props:E,stateAttributesMapping:B});return s.jsx(Te.Provider,{value:O,children:s.jsx(ce.Provider,{value:d,children:a})})}),Fe=t.forwardRef(function(o,n){const{render:h,className:R,...i}=o,{state:b}=z();return F("h3",o,{state:b,ref:n,props:i,stateAttributesMapping:B})}),Ue=new Set([ne,re,se,ie,Ne,Me]);function De(e){const{current:o}=e,n=[];for(let h=0;h<o.length;h+=1){const R=o[h];if(!Z(R)){const i=R?.querySelector('[type="button"]');Z(i)||n.push(i)}}return n}const We=t.forwardRef(function(o,n){const{disabled:h,className:R,id:i,render:b,nativeButton:j=!0,...E}=o,{panelId:S,open:P,handleTrigger:I,disabled:N}=te(),f=h??N,{getButtonProps:M,buttonRef:g}=Oe({disabled:f,focusableWhenDisabled:!0,native:j}),{accordionItemRefs:k,direction:A,loopFocus:l,orientation:c}=$(),u=A==="rtl",r=c==="horizontal",{state:C,setTriggerId:O,triggerId:y}=z();W(()=>(i&&O(i),()=>{O(void 0)}),[i,O]);const _=t.useMemo(()=>({"aria-controls":P?S:void 0,"aria-expanded":P,disabled:f,id:y,onClick:I,onKeyDown(d){if(!Ue.has(d.key))return;je(d);const a=De(k),T=a.length-1;let m=-1;const x=a.indexOf(d.target);function V(){l?m=x+1>T?0:x+1:m=Math.min(x+1,T)}function w(){l?m=x===0?T:x-1:m=x-1}switch(d.key){case ne:r||V();break;case re:r||w();break;case se:r&&(u?w():V());break;case ie:r&&(u?V():w());break;case"Home":m=0;break;case"End":m=T;break}m>-1&&a[m].focus()}}),[k,f,I,y,r,u,l,P,S]);return F("button",o,{state:C,ref:[n,g],props:[_,E,M],stateAttributesMapping:ve})});let ee=(function(e){return e.accordionPanelHeight="--accordion-panel-height",e.accordionPanelWidth="--accordion-panel-width",e})({});const Le=t.forwardRef(function(o,n){const{className:h,hiddenUntilFound:R,keepMounted:i,id:b,render:j,...E}=o,{hiddenUntilFound:S,keepMounted:P}=$(),{abortControllerRef:I,animationTypeRef:N,height:f,mounted:M,onOpenChange:g,open:k,panelId:A,panelRef:l,runOnceAnimationsFinish:c,setDimensions:u,setHiddenUntilFound:r,setKeepMounted:C,setMounted:O,setOpen:y,setVisible:_,transitionDimensionRef:H,visible:d,width:a,setPanelIdState:p,transitionStatus:T}=te(),m=R??S,x=i??P;W(()=>{if(b)return p(b),()=>{p(void 0)}},[b,p]),W(()=>{r(m)},[r,m]),W(()=>{C(x)},[C,x]),ye({open:k&&T==="idle",ref:l,onComplete(){k&&u({width:void 0,height:void 0})}});const{props:V}=Pe({abortControllerRef:I,animationTypeRef:N,externalRef:n,height:f,hiddenUntilFound:m,id:b??A,keepMounted:x,mounted:M,onOpenChange:g,open:k,panelRef:l,runOnceAnimationsFinish:c,setDimensions:u,setMounted:O,setOpen:y,setVisible:_,transitionDimensionRef:H,visible:d,width:a}),{state:w,triggerId:de}=z(),le=t.useMemo(()=>({...w,transitionStatus:T}),[w,T]),ue=F("div",o,{state:le,ref:[n,l],props:[V,{"aria-labelledby":de,role:"region",style:{[ee.accordionPanelHeight]:f===void 0?"auto":`${f}px`,[ee.accordionPanelWidth]:a===void 0?"auto":`${a}px`}},E],stateAttributesMapping:B});return x||m||!x&&M?ue:null}),$e="_Root_yk2xk_1",ze="_Item_yk2xk_8",Be="_Header_yk2xk_13",Ke="_Trigger_yk2xk_17",qe="_TriggerLabel_yk2xk_69",Xe="_TriggerIcon_yk2xk_74",Ge="_TriggerIconOpen_yk2xk_83",Ye="_TriggerIconClosed_yk2xk_91",Je="_Panel_yk2xk_122",Qe="_Content_yk2xk_134",v={Root:$e,Item:ze,Header:Be,Trigger:Ke,TriggerLabel:qe,TriggerIcon:Xe,TriggerIconOpen:Ge,TriggerIconClosed:Ye,Panel:Je,Content:Qe},K=t.forwardRef(({className:e,...o},n)=>s.jsx(He,{ref:n,className:U(e,v.Root),...o}));K.displayName="AccordionRoot";const q=t.forwardRef(({className:e,...o},n)=>s.jsx(Ve,{ref:n,className:U(e,v.Item),...o}));q.displayName="AccordionItem";const X=t.forwardRef(({className:e,...o},n)=>s.jsx(Fe,{ref:n,className:U(e,v.Header),...o}));X.displayName="AccordionHeader";const G=t.forwardRef(({className:e,children:o,iconClosed:n=s.jsx(J,{icon:fe,size:24}),iconOpen:h=s.jsx(J,{icon:ge,size:24}),...R},i)=>s.jsxs(We,{ref:i,className:U(e,v.Trigger),...R,children:[s.jsx("span",{className:v.TriggerLabel,children:o}),s.jsx("span",{className:[v.TriggerIcon,v.TriggerIconClosed].join(" "),children:n}),s.jsx("span",{className:[v.TriggerIcon,v.TriggerIconOpen].join(" "),children:h})]}));G.displayName="AccordionTrigger";const Y=t.forwardRef(({className:e,...o},n)=>s.jsx(Le,{ref:n,className:U(e,v.Panel),...o}));Y.displayName="AccordionPanel";function Ze({render:e,...o}){return Ee({defaultTagName:"div",render:e,props:me({className:v.Content},o)})}K.__docgenInfo={description:"",methods:[],displayName:"AccordionRoot"};q.__docgenInfo={description:"",methods:[],displayName:"AccordionItem"};X.__docgenInfo={description:"",methods:[],displayName:"AccordionHeader"};G.__docgenInfo={description:"",methods:[],displayName:"AccordionTrigger",props:{iconClosed:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:"",defaultValue:{value:"<Icon icon={IconPlus} size={24} />",computed:!1}},iconOpen:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:"",defaultValue:{value:"<Icon icon={IconX} size={24} />",computed:!1}}}};Y.__docgenInfo={description:"",methods:[],displayName:"AccordionPanel"};const Oo={title:"Components/Accordion",decorators:[e=>s.jsx("div",{style:{width:"100%",maxWidth:480,margin:"0 auto"},children:s.jsx(e,{})})]},D={render:()=>s.jsx(K,{children:s.jsxs(q,{children:[s.jsx(X,{children:s.jsx(G,{children:"Accordion Example"})}),s.jsx(Y,{children:s.jsx(Ze,{className:"typesetting-body",children:"パネルの内容は後で調整できます。必要なら専用デザインを選択して下さい。"})})]})})};D.parameters={...D.parameters,docs:{...D.parameters?.docs,source:{originalSource:`{
  render: () => <AccordionRoot>
      <AccordionItem>
        <AccordionHeader>
          <AccordionTrigger>Accordion Example</AccordionTrigger>
        </AccordionHeader>
        <AccordionPanel>
          <AccordionContent className="typesetting-body">
            パネルの内容は後で調整できます。必要なら専用デザインを選択して下さい。
          </AccordionContent>
        </AccordionPanel>
      </AccordionItem>
    </AccordionRoot>
}`,...D.parameters?.docs?.source}}};const jo=["Default"];export{D as Default,jo as __namedExportsOrder,Oo as default};
