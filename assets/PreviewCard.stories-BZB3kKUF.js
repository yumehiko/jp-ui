import{j as a}from"./jsx-runtime-u17CrQMm.js";import{r as t}from"./iframe-DEeGeQmx.js";import{A as fe}from"./Arrow-kStEm1u_.js";import{f as U,b as ge,u as N,m as M}from"./mergeClassName-BNAeu4iQ.js";import{r as we}from"./index-Kut21IzS.js";import{u as Pe}from"./useControlled-BCfLpEop.js";import{u as D}from"./useStableCallback-DO7h5Pr5.js";import{b as Ce,i as ye}from"./floating-ui.utils.dom-CWuwp5es.js";import{u as ve}from"./useTimeout-DA2ibUVR.js";import{c as J,r as H,m as Q,t as he,g as xe}from"./createBaseUIEventDetails-BeElkf0B.js";import{a as X,c as Z,d as Re}from"./element-C8qsRkBu.js";import{u as re,t as oe}from"./useOpenChangeComplete-Ph1DesCe.js";import{u as _e}from"./useTransitionStatus-cB-ptfQy.js";import{u as Se,a as Ee}from"./useAnchorPositioning-CjXR7ona.js";import{u as Ae,s as Ne}from"./safePolygon-CYTAjFCt.js";import{u as Me,a as Oe}from"./useInteractions-BbDBxniS.js";import{F as je}from"./FloatingPortalLite-Frl-CTt-.js";import{t as ke,q as Te,a as F}from"./popupStateMapping-B9bpgTNS.js";import{g as be}from"./getDisabledMountTransitionStyles-MZhtSREL.js";import"./preload-helper-ClwkVg-s.js";import"./index-DylRyPx3.js";import"./useOnMount-C_ExCAsE.js";import"./detectBrowser-CYw91I8L.js";import"./constants-CNjsXAL1.js";import"./useValueAsRef-BrOSccPP.js";import"./useAnimationFrame-DWy1HDF3.js";import"./floating-ui.utils-CtlI5I81.js";import"./owner-CvMgaIeV.js";import"./DirectionContext-Bpzfmgnk.js";import"./useId-H7dhCfMg.js";import"./event-CNRsvx7q.js";import"./visuallyHidden-CbwUG2x5.js";const ne=t.createContext(void 0);function _(){const e=t.useContext(ne);if(e===void 0)throw new Error(U(50));return e}const ee=600,te=300;function De(e,r={}){const o=e.useState("domReferenceElement"),f=e.context.dataRef,{delay:p}=r,d=ve(),i=t.useRef(!1);t.useEffect(()=>{const n=Ce(o);function c(){const l=e.select("domReferenceElement");!e.select("open")&&ye(l)&&l===X(Re(l))&&(i.current=!0)}return n.addEventListener("blur",c),()=>{n.removeEventListener("blur",c)}},[e,o]);const u=t.useMemo(()=>({onFocus(n){const{nativeEvent:c}=n,l=typeof p=="function"?p():p;d.start(l??0,()=>{e.setOpen(!0,J(H,c))})},onBlur(n){i.current=!1;const{relatedTarget:c,nativeEvent:l}=n;d.start(0,()=>{const m=e.select("domReferenceElement"),g=X(m?m.ownerDocument:document);!c&&g===m||Z(f.current.floatingContext?.refs.floating.current,g)||Z(m,g)||e.setOpen(!1,J(H,l))})}}),[p,e,f,d]);return t.useMemo(()=>({reference:u}),[u])}function Ie(e){const{open:r,defaultOpen:o,onOpenChange:f,onOpenChangeComplete:p,actionsRef:d}=e,i=t.useRef(ee),u=t.useRef(te),n=D(v=>{i.current=v.delay??ee,u.current=v.closeDelay??te}),[c,l]=t.useState(null),[m,g]=t.useState(null),[C,S]=t.useState(),O=t.useRef(null),[P,B]=Pe({controlled:r,default:o,name:"PreviewCard",state:"open"}),x=D(f),{mounted:R,setMounted:E,transitionStatus:j}=_e(P),A=D(()=>{E(!1),p?.(!1)});re({enabled:!d,open:P,ref:O,onComplete(){P||A()}}),t.useImperativeHandle(d,()=>({unmount:A}),[A]);const s=D((v,h)=>{const ue=h.reason===Q,z=v&&h.reason===H,me=!v&&(h.reason===he||h.reason===xe);if(x(v,h),h.isCanceled)return;function G(){B(v)}ue?we.flushSync(G):G(),z||me?S(z?"focus":"dismiss"):h.reason===Q&&S(void 0)}),y=Se({elements:{reference:c,floating:m},open:P,onOpenChange:s}),k=C,T=()=>i.current,L=()=>u.current,b=Ae(y,{mouseOnly:!0,move:!1,handleClose:Ne(),restMs:T,delay:()=>({close:L()})}),le=De(y,{delay:T}),de=Me(y),{getReferenceProps:Y,getFloatingProps:K}=Oe([b,le,de]),pe=t.useMemo(()=>({open:P,setOpen:s,mounted:R,setMounted:E,setTriggerElement:l,positionerElement:m,setPositionerElement:g,popupRef:O,triggerProps:Y(),popupProps:K(),floatingRootContext:y,instantType:k,transitionStatus:j,onOpenChangeComplete:p,writeDelayRefs:n}),[P,s,R,E,m,Y,K,y,k,j,p,n]);return a.jsx(ne.Provider,{value:pe,children:e.children})}const se=t.createContext(void 0);function Fe(){const e=t.useContext(se);if(e===void 0)throw new Error(U(48));return e}const Be=t.forwardRef(function(r,o){const{keepMounted:f=!1,...p}=r,{mounted:d}=_();return d||f?a.jsx(se.Provider,{value:f,children:a.jsx(je,{ref:o,...p})}):null}),Le=t.forwardRef(function(r,o){const{render:f,className:p,delay:d,closeDelay:i,...u}=r,{open:n,triggerProps:c,setTriggerElement:l,writeDelayRefs:m}=_();ge(()=>{m({delay:d,closeDelay:i})});const g=t.useMemo(()=>({open:n}),[n]);return N("a",r,{ref:[l,o],state:g,props:[c,u],stateAttributesMapping:ke})}),ae=t.createContext(void 0);function ie(){const e=t.useContext(ae);if(e===void 0)throw new Error(U(49));return e}const He=t.forwardRef(function(r,o){const{render:f,className:p,anchor:d,positionMethod:i="absolute",side:u="bottom",align:n="center",sideOffset:c=0,alignOffset:l=0,collisionBoundary:m="clipping-ancestors",collisionPadding:g=5,arrowPadding:C=5,sticky:S=!1,disableAnchorTracking:O=!1,collisionAvoidance:P=Te,...B}=r,{open:x,mounted:R,floatingRootContext:E,setPositionerElement:j}=_(),A=Fe(),s=Ee({anchor:d,floatingRootContext:E,positionMethod:i,mounted:R,side:u,sideOffset:c,align:n,alignOffset:l,arrowPadding:C,collisionBoundary:m,collisionPadding:g,sticky:S,disableAnchorTracking:O,keepMounted:A,collisionAvoidance:P}),y=t.useMemo(()=>{const b={};return x||(b.pointerEvents="none"),{role:"presentation",hidden:!R,style:{...s.positionerStyles,...b}}},[x,R,s.positionerStyles]),k=t.useMemo(()=>({open:x,side:s.side,align:s.align,anchorHidden:s.anchorHidden}),[x,s.side,s.align,s.anchorHidden]),T=t.useMemo(()=>({side:s.side,align:s.align,arrowRef:s.arrowRef,arrowUncentered:s.arrowUncentered,arrowStyles:s.arrowStyles}),[s.side,s.align,s.arrowRef,s.arrowUncentered,s.arrowStyles]),L=N("div",r,{state:k,ref:[j,o],props:[y,B],stateAttributesMapping:F});return a.jsx(ae.Provider,{value:T,children:L})}),Ue={...F,...oe},$e=t.forwardRef(function(r,o){const{className:f,render:p,...d}=r,{open:i,transitionStatus:u,popupRef:n,onOpenChangeComplete:c,popupProps:l}=_(),{side:m,align:g}=ie();re({open:i,ref:n,onComplete(){i&&c?.(!0)}});const C=t.useMemo(()=>({open:i,side:m,align:g,transitionStatus:u}),[i,m,g,u]);return N("div",r,{ref:[n,o],state:C,props:[l,be(u),d],stateAttributesMapping:Ue})}),Ve=t.forwardRef(function(r,o){const{render:f,className:p,...d}=r,{open:i}=_(),{arrowRef:u,side:n,align:c,arrowUncentered:l,arrowStyles:m}=ie(),g=t.useMemo(()=>({open:i,side:n,align:c,uncentered:l}),[i,n,c,l]);return N("div",r,{state:g,ref:[u,o],props:[{style:m,"aria-hidden":!0},d],stateAttributesMapping:F})}),qe={...F,...oe},We=t.forwardRef(function(r,o){const{render:f,className:p,...d}=r,{open:i,mounted:u,transitionStatus:n}=_(),c=t.useMemo(()=>({open:i,transitionStatus:n}),[i,n]);return N("div",r,{state:c,ref:[o],props:[{role:"presentation",hidden:!u,style:{pointerEvents:"none",userSelect:"none",WebkitUserSelect:"none"}},d],stateAttributesMapping:qe})}),Ye="_Trigger_y1c1a_1",Ke="_Backdrop_y1c1a_27",ze="_Positioner_y1c1a_30",Ge="_Popup_y1c1a_38",Je="_Arrow_y1c1a_61",Qe="_ArrowFill_y1c1a_85",Xe="_ArrowOuterStroke_y1c1a_89",Ze="_Paragraph_y1c1a_94",et="_Image_y1c1a_106",tt="_Summary_y1c1a_113",w={Trigger:Ye,Backdrop:Ke,Positioner:ze,Popup:Ge,Arrow:Je,ArrowFill:Qe,ArrowOuterStroke:Xe,Paragraph:Ze,Image:et,Summary:tt},rt=Ie,ot=Be,$=t.forwardRef(({className:e,...r},o)=>a.jsx(Le,{ref:o,className:M(e,w.Trigger),...r}));$.displayName="PreviewCardTrigger";const ce=t.forwardRef(({className:e,...r},o)=>a.jsx(We,{ref:o,className:M(e,w.Backdrop),...r}));ce.displayName="PreviewCardBackdrop";const V=t.forwardRef(({className:e,...r},o)=>a.jsx(He,{ref:o,className:M(e,w.Positioner),...r}));V.displayName="PreviewCardPositioner";const q=t.forwardRef(({className:e,children:r,withArrow:o=!0,...f},p)=>a.jsxs($e,{ref:p,className:M(e,w.Popup),...f,children:[o?a.jsx(W,{children:a.jsx(fe,{fillClassName:w.ArrowFill,strokeClassName:w.ArrowOuterStroke})}):null,r]}));q.displayName="PreviewCardPopup";const W=t.forwardRef(({className:e,...r},o)=>a.jsx(Ve,{ref:o,className:M(e,w.Arrow),...r}));W.displayName="PreviewCardArrow";$.__docgenInfo={description:"",methods:[],displayName:"PreviewCardTrigger"};ce.__docgenInfo={description:"",methods:[],displayName:"PreviewCardBackdrop"};V.__docgenInfo={description:"",methods:[],displayName:"PreviewCardPositioner"};q.__docgenInfo={description:"",methods:[],displayName:"PreviewCardPopup",props:{withArrow:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}}}};W.__docgenInfo={description:"",methods:[],displayName:"PreviewCardArrow"};const Ft={title:"Components/PreviewCard",parameters:{layout:"fullscreen"}},nt=()=>a.jsx("div",{style:{padding:32},children:a.jsxs(rt,{children:[a.jsxs("p",{className:w.Paragraph,children:["The principles of good"," ",a.jsx($,{href:"https://en.wikipedia.org/wiki/Typography",children:"typography"})," ","remain into the digital age."]}),a.jsx(ot,{children:a.jsx(V,{sideOffset:12,children:a.jsxs(q,{children:[a.jsx("img",{className:w.Image,src:"https://images.unsplash.com/photo-1619615391095-dfa29e1672ef?q=80&w=448&h=300",alt:"Station Hofplein signage in Rotterdam, Netherlands",width:"448",height:"300"}),a.jsxs("p",{className:w.Summary,children:[a.jsx("strong",{children:"Typography"})," is the art and science of arranging type to make written language clear, visually appealing, and effective in communication."]})]})})})]})}),I={render:()=>a.jsx(nt,{})};I.parameters={...I.parameters,docs:{...I.parameters?.docs,source:{originalSource:`{
  render: () => <DefaultStory />
}`,...I.parameters?.docs?.source}}};const Bt=["Default"];export{I as Default,Bt as __namedExportsOrder,Ft as default};
