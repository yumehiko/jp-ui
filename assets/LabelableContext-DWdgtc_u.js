import{r as b}from"./index-DrrilDOe.js";import{N as a,f as h,e as y,b as f}from"./mergeClassName-4BJ6eZC9.js";import{u as C}from"./useStableCallback-BG29bmz1.js";import{r as s}from"./iframe-DXOI1E9u.js";let g=(function(e){return e.disabled="data-disabled",e.valid="data-valid",e.invalid="data-invalid",e.touched="data-touched",e.dirty="data-dirty",e.filled="data-filled",e.focused="data-focused",e})({});const E={badInput:!1,customError:!1,patternMismatch:!1,rangeOverflow:!1,rangeUnderflow:!1,stepMismatch:!1,tooLong:!1,tooShort:!1,typeMismatch:!1,valid:null,valueMissing:!1},F={valid(e){return e===null?null:e?{[g.valid]:""}:{[g.invalid]:""}}},I=s.createContext({invalid:void 0,name:void 0,validityData:{state:E,errors:[],error:"",value:"",initialValue:null},setValidityData:a,disabled:void 0,touched:!1,setTouched:a,dirty:!1,setDirty:a,filled:!1,setFilled:a,focused:!1,setFocused:a,validate:()=>null,validationMode:"onSubmit",validationDebounceTime:0,shouldValidateOnChange:()=>!1,state:{disabled:!1,valid:null,touched:!1,dirty:!1,filled:!1,focused:!1},markedDirtyRef:{current:!1},validation:{getValidationProps:(e=y)=>e,getInputValidationProps:(e=y)=>e,inputRef:{current:null},commit:async()=>{}}});function M(e=!0){const l=s.useContext(I);if(l.setValidityData===a&&!e)throw new Error(h(28));return l}function R(e,l){return{...e,state:{...e.state,valid:!l&&e.state.valid}}}const D=s.createContext({formRef:{current:{fields:new Map}},errors:{},clearErrors:a,validationMode:"onSubmit",submitAttemptedRef:{current:!1}});function L(){return s.useContext(D)}function k(e){const{enabled:l=!0,value:o,id:i,name:u,controlRef:c,commit:m}=e,{formRef:r}=L(),{invalid:v,markedDirtyRef:p,validityData:d,setValidityData:x}=M(),n=C(e.getValue);f(()=>{if(!l)return;let t=o;t===void 0&&(t=n()),d.initialValue===null&&t!==null&&x(V=>({...V,initialValue:t}))},[l,x,o,d.initialValue,n]),f(()=>{!l||!i||r.current.fields.set(i,{getValue:n,name:u,controlRef:c,validityData:R(d,v),validate(){let t=o;t===void 0&&(t=n()),p.current=!0,b.flushSync(()=>m(t))}})},[m,c,l,r,n,i,v,p,u,d,o]),f(()=>{const t=r.current.fields;return()=>{i&&t.delete(i)}},[r,i])}const T=s.createContext({controlId:void 0,setControlId:a,labelId:void 0,setLabelId:a,messageIds:[],setMessageIds:a,getDescriptionProps:e=>e});function _(){return s.useContext(T)}export{E as D,D as F,T as L,_ as a,L as b,k as c,I as d,F as f,R as g,M as u};
