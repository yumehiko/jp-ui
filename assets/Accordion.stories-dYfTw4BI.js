import{j as s}from"./jsx-runtime-u17CrQMm.js";import{r as t}from"./iframe-DXOI1E9u.js";import{I as Q}from"./Icon-UrFbKgmo.js";import{f as oe,u as F,a as pe,b as W,m as U,c as me}from"./mergeClassName-4BJ6eZC9.js";import{u as fe}from"./useRender-DELKgFkQ.js";import{u as ge}from"./useControlled-DEAayXAn.js";import{u as L}from"./useStableCallback-BG29bmz1.js";import{C as xe,u as he}from"./useCompositeListItem-DO9Q9utO.js";import{u as Re}from"./DirectionContext-B2G4FrAD.js";import{c as be,n as Ae}from"./createBaseUIEventDetails-DuvT8Jvz.js";import{u as X}from"./useBaseUiId-DPGNyegz.js";import{c as Ce,u as Ie,C as _e,a as te,t as Te,b as ve}from"./useCollapsiblePanel-Bm4plBQB.js";import{t as ke,u as Pe}from"./useOpenChangeComplete-EYYQQ2xa.js";import{i as Z}from"./isElementDisabled-CwHw_lZC.js";import{A as ne,a as re,b as se,c as ie,H as ye,E as Ne}from"./composite-CJk-2jGs.js";import{u as Me}from"./useButton-gvMzLzXO.js";import{s as Oe}from"./event-CNRsvx7q.js";import"./preload-helper-ClwkVg-s.js";import"./useId-vWe4oqRw.js";import"./useTransitionStatus-BSiOYNFN.js";import"./useAnimationFrame-CLJ86gM1.js";import"./useOnMount-i2UvWo5T.js";import"./useValueAsRef-BQ2eVG2U.js";import"./index-DrrilDOe.js";import"./index-CpQvntHP.js";import"./floating-ui.utils.dom-CWuwp5es.js";import"./detectBrowser-CYw91I8L.js";const ae=t.createContext(void 0);function $(){const e=t.useContext(ae);if(e===void 0)throw new Error(oe(10));return e}const je={value:()=>null},Ee=t.forwardRef(function(o,n){const{render:h,className:R,disabled:i=!1,hiddenUntilFound:b,keepMounted:j,loopFocus:E=!0,onValueChange:S,multiple:k=!1,orientation:A="vertical",value:N,defaultValue:f,...M}=o,g=Re(),P=t.useMemo(()=>{if(N===void 0)return f??[]},[N,f]),C=L(S),l=t.useRef([]),[c,u]=ge({controlled:N,default:P,name:"Accordion",state:"value"}),r=L((_,H)=>{const d=be(Ae);if(k)if(H){const a=c.slice();if(a.push(_),C(a,d),d.isCanceled)return;u(a)}else{const a=c.filter(p=>p!==_);if(C(a,d),d.isCanceled)return;u(a)}else{const a=c[0]===_?[]:[_];if(C(a,d),d.isCanceled)return;u(a)}}),I=t.useMemo(()=>({value:c,disabled:i,orientation:A}),[c,i,A]),O=t.useMemo(()=>({accordionItemRefs:l,direction:g,disabled:i,handleValueChange:r,hiddenUntilFound:b??!1,keepMounted:j??!1,loopFocus:E,orientation:A,state:I,value:c}),[g,i,r,b,j,E,A,I,c]),y=F("div",o,{state:I,ref:n,props:[{dir:g,role:"region"},M],stateAttributesMapping:je});return s.jsx(ae.Provider,{value:O,children:s.jsx(xe,{elementsRef:l,children:y})})}),ce=t.createContext(void 0);function z(){const e=t.useContext(ce);if(e===void 0)throw new Error(oe(9));return e}let Se=(function(e){return e.index="data-index",e.disabled="data-disabled",e.open="data-open",e})({});const B={...Ce,index:e=>Number.isInteger(e)?{[Se.index]:String(e)}:null,...ke,value:()=>null},He=t.forwardRef(function(o,n){const{className:h,disabled:R=!1,onOpenChange:i,render:b,value:j,...E}=o,{ref:S,index:k}=he(),A=pe(n,S),{disabled:N,handleValueChange:f,state:M,value:g}=$(),P=X(),C=j??P,l=R||N,c=t.useMemo(()=>{if(!g)return!1;for(let p=0;p<g.length;p+=1)if(g[p]===C)return!0;return!1},[g,C]),u=L((p,T)=>{i?.(p,T),!T.isCanceled&&f(C,p)}),r=Ie({open:c,onOpenChange:u,disabled:l}),I=t.useMemo(()=>({open:r.open,disabled:r.disabled,hidden:!r.mounted,transitionStatus:r.transitionStatus}),[r.open,r.disabled,r.mounted,r.transitionStatus]),O=t.useMemo(()=>({...r,onOpenChange:u,state:I}),[r,I,u]),y=t.useMemo(()=>({...M,index:k,disabled:l,open:c}),[l,k,c,M]),[_,H]=t.useState(X()),d=t.useMemo(()=>({open:c,state:y,setTriggerId:H,triggerId:_}),[c,y,H,_]),a=F("div",o,{state:y,ref:A,props:E,stateAttributesMapping:B});return s.jsx(_e.Provider,{value:O,children:s.jsx(ce.Provider,{value:d,children:a})})}),we=t.forwardRef(function(o,n){const{render:h,className:R,...i}=o,{state:b}=z();return F("h3",o,{state:b,ref:n,props:i,stateAttributesMapping:B})}),Ve=new Set([ne,re,se,ie,ye,Ne]);function Fe(e){const{current:o}=e,n=[];for(let h=0;h<o.length;h+=1){const R=o[h];if(!Z(R)){const i=R?.querySelector('[type="button"]');Z(i)||n.push(i)}}return n}const Ue=t.forwardRef(function(o,n){const{disabled:h,className:R,id:i,render:b,nativeButton:j=!0,...E}=o,{panelId:S,open:k,handleTrigger:A,disabled:N}=te(),f=h??N,{getButtonProps:M,buttonRef:g}=Me({disabled:f,focusableWhenDisabled:!0,native:j}),{accordionItemRefs:P,direction:C,loopFocus:l,orientation:c}=$(),u=C==="rtl",r=c==="horizontal",{state:I,setTriggerId:O,triggerId:y}=z();W(()=>(i&&O(i),()=>{O(void 0)}),[i,O]);const _=t.useMemo(()=>({"aria-controls":k?S:void 0,"aria-expanded":k,disabled:f,id:y,onClick:A,onKeyDown(d){if(!Ve.has(d.key))return;Oe(d);const a=Fe(P),T=a.length-1;let m=-1;const x=a.indexOf(d.target);function V(){l?m=x+1>T?0:x+1:m=Math.min(x+1,T)}function w(){l?m=x===0?T:x-1:m=x-1}switch(d.key){case ne:r||V();break;case re:r||w();break;case se:r&&(u?w():V());break;case ie:r&&(u?V():w());break;case"Home":m=0;break;case"End":m=T;break}m>-1&&a[m].focus()}}),[P,f,A,y,r,u,l,k,S]);return F("button",o,{state:I,ref:[n,g],props:[_,E,M],stateAttributesMapping:Te})});let ee=(function(e){return e.accordionPanelHeight="--accordion-panel-height",e.accordionPanelWidth="--accordion-panel-width",e})({});const De=t.forwardRef(function(o,n){const{className:h,hiddenUntilFound:R,keepMounted:i,id:b,render:j,...E}=o,{hiddenUntilFound:S,keepMounted:k}=$(),{abortControllerRef:A,animationTypeRef:N,height:f,mounted:M,onOpenChange:g,open:P,panelId:C,panelRef:l,runOnceAnimationsFinish:c,setDimensions:u,setHiddenUntilFound:r,setKeepMounted:I,setMounted:O,setOpen:y,setVisible:_,transitionDimensionRef:H,visible:d,width:a,setPanelIdState:p,transitionStatus:T}=te(),m=R??S,x=i??k;W(()=>{if(b)return p(b),()=>{p(void 0)}},[b,p]),W(()=>{r(m)},[r,m]),W(()=>{I(x)},[I,x]),Pe({open:P&&T==="idle",ref:l,onComplete(){P&&u({width:void 0,height:void 0})}});const{props:V}=ve({abortControllerRef:A,animationTypeRef:N,externalRef:n,height:f,hiddenUntilFound:m,id:b??C,keepMounted:x,mounted:M,onOpenChange:g,open:P,panelRef:l,runOnceAnimationsFinish:c,setDimensions:u,setMounted:O,setOpen:y,setVisible:_,transitionDimensionRef:H,visible:d,width:a}),{state:w,triggerId:de}=z(),le=t.useMemo(()=>({...w,transitionStatus:T}),[w,T]),ue=F("div",o,{state:le,ref:[n,l],props:[V,{"aria-labelledby":de,role:"region",style:{[ee.accordionPanelHeight]:f===void 0?"auto":`${f}px`,[ee.accordionPanelWidth]:a===void 0?"auto":`${a}px`}},E],stateAttributesMapping:B});return x||m||!x&&M?ue:null}),We="_Root_yk2xk_1",Le="_Item_yk2xk_8",$e="_Header_yk2xk_13",ze="_Trigger_yk2xk_17",Be="_TriggerLabel_yk2xk_69",Ke="_TriggerIcon_yk2xk_74",qe="_TriggerIconOpen_yk2xk_83",Ge="_TriggerIconClosed_yk2xk_91",Ye="_Panel_yk2xk_122",Je="_Content_yk2xk_134",v={Root:We,Item:Le,Header:$e,Trigger:ze,TriggerLabel:Be,TriggerIcon:Ke,TriggerIconOpen:qe,TriggerIconClosed:Ge,Panel:Ye,Content:Je},K=t.forwardRef(({className:e,...o},n)=>s.jsx(Ee,{ref:n,className:U(e,v.Root),...o}));K.displayName="AccordionRoot";const q=t.forwardRef(({className:e,...o},n)=>s.jsx(He,{ref:n,className:U(e,v.Item),...o}));q.displayName="AccordionItem";const G=t.forwardRef(({className:e,...o},n)=>s.jsx(we,{ref:n,className:U(e,v.Header),...o}));G.displayName="AccordionHeader";const Y=t.forwardRef(({className:e,children:o,iconClosed:n=s.jsx(Q,{name:"plus",size:24}),iconOpen:h=s.jsx(Q,{name:"x",size:24}),...R},i)=>s.jsxs(Ue,{ref:i,className:U(e,v.Trigger),...R,children:[s.jsx("span",{className:v.TriggerLabel,children:o}),s.jsx("span",{className:[v.TriggerIcon,v.TriggerIconClosed].join(" "),children:n}),s.jsx("span",{className:[v.TriggerIcon,v.TriggerIconOpen].join(" "),children:h})]}));Y.displayName="AccordionTrigger";const J=t.forwardRef(({className:e,...o},n)=>s.jsx(De,{ref:n,className:U(e,v.Panel),...o}));J.displayName="AccordionPanel";function Qe({render:e,...o}){return fe({defaultTagName:"div",render:e,props:me({className:v.Content},o)})}K.__docgenInfo={description:"",methods:[],displayName:"AccordionRoot"};q.__docgenInfo={description:"",methods:[],displayName:"AccordionItem"};G.__docgenInfo={description:"",methods:[],displayName:"AccordionHeader"};Y.__docgenInfo={description:"",methods:[],displayName:"AccordionTrigger",props:{iconClosed:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:"",defaultValue:{value:'<Icon name="plus" size={24} />',computed:!1}},iconOpen:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:"",defaultValue:{value:'<Icon name="x" size={24} />',computed:!1}}}};J.__docgenInfo={description:"",methods:[],displayName:"AccordionPanel"};const Po={title:"Components/Accordion",decorators:[e=>s.jsx("div",{style:{width:"100%",maxWidth:480,margin:"0 auto"},children:s.jsx(e,{})})]},D={render:()=>s.jsx(K,{children:s.jsxs(q,{children:[s.jsx(G,{children:s.jsx(Y,{children:"Accordion Example"})}),s.jsx(J,{children:s.jsx(Qe,{className:"typesetting-body",children:"パネルの内容は後で調整できます。必要なら専用デザインを選択して下さい。"})})]})})};D.parameters={...D.parameters,docs:{...D.parameters?.docs,source:{originalSource:`{
  render: () => <AccordionRoot>
      <AccordionItem>
        <AccordionHeader>
          <AccordionTrigger>Accordion Example</AccordionTrigger>
        </AccordionHeader>
        <AccordionPanel>
          <AccordionContent className="typesetting-body">
            パネルの内容は後で調整できます。必要なら専用デザインを選択して下さい。
          </AccordionContent>
        </AccordionPanel>
      </AccordionItem>
    </AccordionRoot>
}`,...D.parameters?.docs?.source}}};const yo=["Default"];export{D as Default,yo as __namedExportsOrder,Po as default};
