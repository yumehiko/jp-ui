import{j as s}from"./jsx-runtime-u17CrQMm.js";import{r as o}from"./iframe-DCTwtVEg.js";import{f as q,u as g,b as D,m as P}from"./mergeClassName-CGuaxy8D.js";import{u as F}from"./useValueAsRef-BBKeM-2h.js";import{f as M}from"./formatNumber-E4R0_Sjy.js";import{u as O}from"./useBaseUiId-DBEJHERS.js";import{v as B}from"./valueToPercent-D5LwnO_k.js";import"./preload-helper-ClwkVg-s.js";import"./useId-DhseFPV0.js";const S=o.createContext(void 0);function I(){const e=o.useContext(S);if(e===void 0)throw new Error(q(51));return e}let T=(function(e){return e.complete="data-complete",e.indeterminate="data-indeterminate",e.progressing="data-progressing",e})({});const x={status(e){return e==="progressing"?{[T.progressing]:""}:e==="complete"?{[T.complete]:""}:e==="indeterminate"?{[T.indeterminate]:""}:null}};function U(e,r,t){return e==null?"":t?M(e,r,t):M(e/100,r,{style:"percent"})}function W(e,r){return r==null?"indeterminate progress":e||`${r}%`}const z=o.forwardRef(function(r,t){const{format:c,getAriaValueText:m=W,locale:i,max:l=100,min:n=0,value:a,render:u,className:d,...f}=r,[v,k]=o.useState(),A=F(c);let p="indeterminate";Number.isFinite(a)&&(p=a===l?"complete":"progressing");const w=U(a,i,A.current),L=o.useMemo(()=>({status:p}),[p]),E={"aria-labelledby":v,"aria-valuemax":l,"aria-valuemin":n,"aria-valuenow":a??void 0,"aria-valuetext":m(w,a),role:"progressbar"},C=o.useMemo(()=>({formattedValue:w,max:l,min:n,setLabelId:k,state:L,status:p,value:a}),[w,l,n,k,L,p,a]),$=g("div",r,{state:L,ref:t,props:[E,f],stateAttributesMapping:x});return s.jsx(S.Provider,{value:C,children:$})}),G=o.forwardRef(function(r,t){const{render:c,className:m,...i}=r,{state:l}=I();return g("div",r,{state:l,ref:t,props:i,stateAttributesMapping:x})}),H=o.forwardRef(function(r,t){const{render:c,className:m,...i}=r,{max:l,min:n,value:a,state:u}=I(),d=Number.isFinite(a)&&a!==null?B(a,n,l):null,f=o.useCallback(()=>d==null?{}:{insetInlineStart:0,height:"inherit",width:`${d}%`},[d]);return g("div",r,{state:u,ref:t,props:[{style:f()},i],stateAttributesMapping:x})}),J=o.forwardRef(function(r,t){const{className:c,render:m,children:i,...l}=r,{value:n,formattedValue:a,state:u}=I(),d=n==null?"indeterminate":a,f=n==null?null:a;return g("span",r,{state:u,ref:t,props:[{"aria-hidden":!0,children:typeof i=="function"?i(d,n):f},l],stateAttributesMapping:x})}),K=o.forwardRef(function(r,t){const{render:c,className:m,id:i,...l}=r,n=O(i),{setLabelId:a,state:u}=I();return D(()=>(a(n),()=>a(void 0)),[n,a]),g("span",r,{state:u,ref:t,props:[{id:n},l],stateAttributesMapping:x})}),Q="_Root_13mmq_1",X="_Label_13mmq_9",Y="_Value_13mmq_18",Z="_Track_13mmq_29",ee="_Indicator_13mmq_38",b={Root:Q,Label:X,Value:Y,Track:Z,Indicator:ee},R=o.forwardRef(({className:e,...r},t)=>s.jsx(z,{ref:t,className:P(e,b.Root),...r}));R.displayName="ProgressRoot";const N=o.forwardRef(({className:e,...r},t)=>s.jsx(K,{ref:t,className:P(e,b.Label),...r}));N.displayName="ProgressLabel";const V=o.forwardRef(({className:e,...r},t)=>s.jsx(J,{ref:t,className:P(e,b.Value),...r}));V.displayName="ProgressValue";const j=o.forwardRef(({className:e,...r},t)=>s.jsx(G,{ref:t,className:P(e,b.Track),...r}));j.displayName="ProgressTrack";const y=o.forwardRef(({className:e,...r},t)=>s.jsx(H,{ref:t,className:P(e,b.Indicator),...r}));y.displayName="ProgressIndicator";R.__docgenInfo={description:"",methods:[],displayName:"ProgressRoot"};N.__docgenInfo={description:"",methods:[],displayName:"ProgressLabel"};V.__docgenInfo={description:"",methods:[],displayName:"ProgressValue"};j.__docgenInfo={description:"",methods:[],displayName:"ProgressTrack"};y.__docgenInfo={description:"",methods:[],displayName:"ProgressIndicator"};const ue={title:"Components/Progress",decorators:[e=>s.jsx("div",{style:{width:"100%",maxWidth:480,margin:"0 auto"},children:s.jsx(e,{})})]},re=()=>{const[e,r]=o.useState(32);return o.useEffect(()=>{const t=setInterval(()=>{r(c=>Math.min(100,c+12))},900);return()=>clearInterval(t)},[]),s.jsxs(R,{value:e,"aria-label":"処理の進捗",children:[s.jsx(N,{children:"データ書き出し"}),s.jsx(V,{children:(t,c)=>c===null?"-":t}),s.jsx(j,{children:s.jsx(y,{})})]})},_={render:()=>s.jsx(re,{})},h={render:()=>s.jsxs(R,{value:null,"aria-label":"処理の進捗",children:[s.jsx(N,{children:"同期中"}),s.jsx(V,{children:()=>"--"}),s.jsx(j,{children:s.jsx(y,{})})]})};_.parameters={..._.parameters,docs:{..._.parameters?.docs,source:{originalSource:`{
  render: () => <DefaultStory />
}`,..._.parameters?.docs?.source}}};h.parameters={...h.parameters,docs:{...h.parameters?.docs,source:{originalSource:`{
  render: () => <ProgressRoot value={null} aria-label="処理の進捗">
      <ProgressLabel>同期中</ProgressLabel>
      <ProgressValue>{() => '--'}</ProgressValue>
      <ProgressTrack>
        <ProgressIndicator />
      </ProgressTrack>
    </ProgressRoot>
}`,...h.parameters?.docs?.source}}};const me=["Default","Indeterminate"];export{_ as Default,h as Indeterminate,me as __namedExportsOrder,ue as default};
