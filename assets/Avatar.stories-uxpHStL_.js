import{j as s}from"./jsx-runtime-u17CrQMm.js";import{r as e}from"./iframe-DEeGeQmx.js";import{f as F,u as A,b as _,N as M,m as x}from"./mergeClassName-BNAeu4iQ.js";import{u as y}from"./useStableCallback-DO7h5Pr5.js";import{u as N}from"./useTimeout-DA2ibUVR.js";import"./preload-helper-ClwkVg-s.js";import"./useOnMount-C_ExCAsE.js";const j=e.createContext(void 0);function k(){const t=e.useContext(j);if(t===void 0)throw new Error(F(13));return t}const b={imageLoadingStatus:()=>null},w=e.forwardRef(function(a,r){const{className:f,render:d,...l}=a,[o,i]=e.useState("idle"),c=e.useMemo(()=>({imageLoadingStatus:o}),[o]),m=e.useMemo(()=>({imageLoadingStatus:o,setImageLoadingStatus:i}),[o,i]),n=A("span",a,{state:c,ref:r,props:l,stateAttributesMapping:b});return s.jsx(j.Provider,{value:m,children:n})});function L(t,{referrerPolicy:a,crossOrigin:r}){const[f,d]=e.useState("idle");return _(()=>{if(!t)return d("error"),M;let l=!0;const o=new window.Image,i=c=>()=>{l&&d(c)};return d("loading"),o.onload=i("loaded"),o.onerror=i("error"),a&&(o.referrerPolicy=a),o.crossOrigin=r??null,o.src=t,()=>{l=!1}},[t,r,a]),f}const C=e.forwardRef(function(a,r){const{className:f,render:d,onLoadingStatusChange:l,referrerPolicy:o,crossOrigin:i,...c}=a,m=k(),n=L(a.src,{referrerPolicy:o,crossOrigin:i}),v=y(S=>{l?.(S),m.setImageLoadingStatus(S)});_(()=>{n!=="idle"&&v(n)},[n,v]);const I=e.useMemo(()=>({imageLoadingStatus:n}),[n]);return A("img",a,{state:I,ref:r,props:c,stateAttributesMapping:b,enabled:n==="loaded"})}),E=e.forwardRef(function(a,r){const{className:f,render:d,delay:l,...o}=a,{imageLoadingStatus:i}=k(),[c,m]=e.useState(l===void 0),n=N();e.useEffect(()=>(l!==void 0&&n.start(l,()=>m(!0)),n.clear),[n,l]);const v=e.useMemo(()=>({imageLoadingStatus:i}),[i]);return A("span",a,{state:v,ref:r,props:o,stateAttributesMapping:b,enabled:i!=="loaded"&&c})}),Y="_Root_1vrbe_1",O="_Image_1vrbe_19",P="_Fallback_1vrbe_25",R={Root:Y,Image:O,Fallback:P},u=e.forwardRef(({className:t,...a},r)=>s.jsx(w,{ref:r,className:x(t,R.Root),...a}));u.displayName="AvatarRoot";const h=e.forwardRef(({className:t,...a},r)=>s.jsx(C,{ref:r,className:x(t,R.Image),...a}));h.displayName="AvatarImage";const g=e.forwardRef(({className:t,...a},r)=>s.jsx(E,{ref:r,className:x(t,R.Fallback),...a}));g.displayName="AvatarFallback";u.__docgenInfo={description:"",methods:[],displayName:"AvatarRoot"};h.__docgenInfo={description:"",methods:[],displayName:"AvatarImage"};g.__docgenInfo={description:"",methods:[],displayName:"AvatarFallback"};const D="/jp-ui/assets/avator-8h8wxf__.jpg",J={title:"Components/Avatar",decorators:[t=>s.jsx("div",{style:{display:"flex",gap:16,alignItems:"center"},children:s.jsx(t,{})})]},p={render:()=>s.jsxs(s.Fragment,{children:[s.jsxs(u,{children:[s.jsx(h,{src:D,width:"96",height:"96",alt:""}),s.jsx(g,{children:"YM"})]}),s.jsx(u,{children:s.jsx(g,{children:"YM"})}),s.jsx(u,{style:{"--avatar-size":"32px","--avatar-text-offset":"0.06em"},children:s.jsx(g,{children:"YM"})})]})};p.parameters={...p.parameters,docs:{...p.parameters?.docs,source:{originalSource:`{
  render: () => <>
      <AvatarRoot>
        <AvatarImage src={avatarImage} width="96" height="96" alt="" />
        <AvatarFallback>YM</AvatarFallback>
      </AvatarRoot>
      <AvatarRoot>
        <AvatarFallback>YM</AvatarFallback>
      </AvatarRoot>
      <AvatarRoot style={{
      ['--avatar-size' as string]: '32px',
      ['--avatar-text-offset' as string]: '0.06em'
    }}>
        <AvatarFallback>YM</AvatarFallback>
      </AvatarRoot>
    </>
}`,...p.parameters?.docs?.source}}};const K=["Default"];export{p as Default,K as __namedExportsOrder,J as default};
