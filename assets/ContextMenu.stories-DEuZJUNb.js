import{j as e}from"./jsx-runtime-u17CrQMm.js";import{I as ae}from"./Icon-UrFbKgmo.js";import{C as ue,M as ie,a as ce,u as me,b as le,f as pe,c as de,d as xe,e as fe,m as r,g as Me,h as Ce,i as he,j as ge,k as Ie,l as Re,n as Ne,o as je,p as ye,q as be,r as Se,s as Te}from"./Menu.module-CkhY5IHp.js";import{r as s}from"./iframe-DXOI1E9u.js";import{u as _e,m as u,c as Pe}from"./mergeClassName-4BJ6eZC9.js";import{u as we}from"./useId-vWe4oqRw.js";import{o as A}from"./owner-CvMgaIeV.js";import{u as B}from"./useTimeout-JrQkYQHa.js";import{c as U,h as Le,t as ke}from"./createBaseUIEventDetails-DuvT8Jvz.js";import{p as Ee}from"./popupStateMapping-CpSo4hCe.js";import{g as Y,c as R}from"./element-C8qsRkBu.js";import{s as Oe}from"./event-CNRsvx7q.js";import{u as Ge}from"./useRender-DELKgFkQ.js";import{S as ve}from"./Separator-DGhCyRkV.js";import"./useOpenChangeComplete-EYYQQ2xa.js";import"./useStableCallback-BG29bmz1.js";import"./useValueAsRef-BQ2eVG2U.js";import"./index-DrrilDOe.js";import"./index-CpQvntHP.js";import"./useAnimationFrame-CLJ86gM1.js";import"./useOnMount-i2UvWo5T.js";import"./useControlled-DEAayXAn.js";import"./useCompositeListItem-DO9Q9utO.js";import"./useBaseUiId-DPGNyegz.js";import"./useTransitionStatus-BSiOYNFN.js";import"./ToolbarRootContext-Bxe9jB8k.js";import"./composite-CJk-2jGs.js";import"./floating-ui.utils.dom-CWuwp5es.js";import"./getDisabledMountTransitionStyles-B37M8LbV.js";import"./useHoverReferenceInteraction-DYA_RcQk.js";import"./safePolygon-Bzw1AuzA.js";import"./constants-CNjsXAL1.js";import"./useInteractions-BirjbM4K.js";import"./InternalBackdrop-BfTmp1FM.js";import"./detectBrowser-CYw91I8L.js";import"./visuallyHidden-CbwUG2x5.js";import"./inertValue-210nwfDp.js";import"./useAnchorPositioning-CTl2tFHh.js";import"./floating-ui.utils-CtlI5I81.js";import"./DirectionContext-B2G4FrAD.js";import"./useSyncedFloatingRootContext-DdedLQsy.js";import"./getEmptyRootContext-Bcyyjzkd.js";import"./useRole-hw_nALsM.js";import"./useListNavigation-WU8XylIB.js";import"./composite-BpyLfiE4.js";import"./useTypeahead-DU3vvgUm.js";import"./useButton-gvMzLzXO.js";import"./useClick-mxHimsfE.js";import"./preload-helper-ClwkVg-s.js";function De(n){const[t,o]=s.useState({getBoundingClientRect(){return DOMRect.fromRect({width:0,height:0,x:0,y:0})}}),d=s.useRef(null),k=s.useRef(null),S=s.useRef(null),T=s.useRef(null),M=s.useRef(!0),C=s.useRef(null),x=we(),_=s.useMemo(()=>({anchor:t,setAnchor:o,actionsRef:S,backdropRef:d,internalBackdropRef:k,positionerRef:T,allowMouseUpTriggerRef:M,initialCursorPointRef:C,rootId:x}),[t,x]);return e.jsx(ue.Provider,{value:_,children:e.jsx(ie.Provider,{value:void 0,children:e.jsx(ce,{...n})})})}const X=500,Ae=s.forwardRef(function(t,o){const{render:d,className:k,...S}=t,{setAnchor:T,actionsRef:M,internalBackdropRef:C,backdropRef:x,positionerRef:_,allowMouseUpTriggerRef:P,initialCursorPointRef:ee,rootId:E}=me(!1),{store:te}=le(!1),O=te.useState("open"),h=s.useRef(null),l=s.useRef(null),g=B(),G=B(),I=s.useRef(!1);function v(a,i,c){const m=c.type.startsWith("touch");ee.current={x:a,y:i},T({getBoundingClientRect(){return DOMRect.fromRect({width:m?10:0,height:m?10:0,x:a,y:i})}}),I.current=!1,M.current?.setOpen(!0,U(ke,c)),G.start(X,()=>{I.current=!0})}function ne(a){P.current=!0,Oe(a),v(a.clientX,a.clientY,a.nativeEvent),A(h.current).addEventListener("mouseup",c=>{if(P.current=!1,!I.current)return;G.clear(),I.current=!1;const m=Y(c);R(_.current,m)||E&&m&&pe(m)===E||M.current?.setOpen(!1,U(Le,c))},{once:!0})}function oe(a){if(P.current=!1,a.touches.length===1){a.stopPropagation();const i=a.touches[0];l.current={x:i.clientX,y:i.clientY},g.start(X,()=>{l.current&&v(l.current.x,l.current.y,a.nativeEvent)})}}function se(a){if(g.isStarted()&&l.current&&a.touches.length===1){const i=a.touches[0],c=10,m=Math.abs(i.clientX-l.current.x),f=Math.abs(i.clientY-l.current.y);(m>c||f>c)&&g.clear()}}function D(){g.clear(),l.current=null}s.useEffect(()=>{function a(c){const f=Y(c);(R(h.current,f)||R(C.current,f)||R(x.current,f))&&c.preventDefault()}const i=A(h.current);return i.addEventListener("contextmenu",a),()=>{i.removeEventListener("contextmenu",a)}},[x,C]);const re=s.useMemo(()=>({open:O}),[O]);return _e("div",t,{state:re,ref:[h,o],props:[{onContextMenu:ne,onTouchStart:oe,onTouchMove:se,onTouchEnd:D,onTouchCancel:D,style:{WebkitTouchCallout:"none"}},S],stateAttributesMapping:Ee})}),Be="_Trigger_hlktv_1",Ue={Trigger:Be},Ye=De,w=s.forwardRef(({className:n,...t},o)=>e.jsx(Ae,{ref:o,className:u(n,Ue.Trigger),...t}));w.displayName="ContextMenuTrigger";const q=de,z=s.forwardRef(({className:n,...t},o)=>e.jsx(ge,{ref:o,className:u(n,r.Backdrop),...t}));z.displayName="ContextMenuBackdrop";const j=s.forwardRef(({className:n,...t},o)=>e.jsx(fe,{ref:o,className:u(n,r.Positioner),...t}));j.displayName="ContextMenuPositioner";const y=s.forwardRef(({className:n,...t},o)=>e.jsx(Me,{ref:o,className:u(n,r.Popup),...t}));y.displayName="ContextMenuPopup";const W=s.forwardRef(({className:n,...t},o)=>e.jsx(Ie,{ref:o,className:u(n,r.Arrow),...t}));W.displayName="ContextMenuArrow";const p=s.forwardRef(({className:n,...t},o)=>e.jsx(Ce,{ref:o,className:u(n,r.Item),...t}));p.displayName="ContextMenuItem";const b=s.forwardRef(({className:n,...t},o)=>e.jsx(ve,{ref:o,className:u(n,r.Separator),...t}));b.displayName="ContextMenuSeparator";function V({render:n,...t}){return Ge({defaultTagName:"div",render:n,props:Pe({className:r.Content},t)})}const $=s.forwardRef(({className:n,...t},o)=>e.jsx(Re,{ref:o,className:u(n,r.Group),...t}));$.displayName="ContextMenuGroup";const F=s.forwardRef(({className:n,...t},o)=>e.jsx(Ne,{ref:o,className:u(n,r.GroupLabel),...t}));F.displayName="ContextMenuGroupLabel";const H=s.forwardRef(({className:n,...t},o)=>e.jsx(je,{ref:o,className:u(n,r.RadioGroup),...t}));H.displayName="ContextMenuRadioGroup";const J=s.forwardRef(({className:n,...t},o)=>e.jsx(ye,{ref:o,className:u(n,r.OptionItem),...t}));J.displayName="ContextMenuRadioItem";const K=s.forwardRef(({className:n,keepMounted:t=!0,...o},d)=>e.jsx(be,{ref:d,keepMounted:t,className:u(n,r.OptionIndicator),...o}));K.displayName="ContextMenuRadioItemIndicator";const Q=s.forwardRef(({className:n,...t},o)=>e.jsx(Se,{ref:o,className:u(n,r.OptionItem),...t}));Q.displayName="ContextMenuCheckboxItem";const Z=s.forwardRef(({className:n,keepMounted:t=!0,...o},d)=>e.jsx(Te,{ref:d,keepMounted:t,className:u(n,r.OptionIndicator),...o}));Z.displayName="ContextMenuCheckboxItemIndicator";const Xe=xe,L=s.forwardRef(({className:n,...t},o)=>e.jsx(he,{ref:o,className:u(n,r.SubmenuTrigger),...t}));L.displayName="ContextMenuSubmenuTrigger";w.__docgenInfo={description:"",methods:[],displayName:"ContextMenuTrigger"};z.__docgenInfo={description:"",methods:[],displayName:"ContextMenuBackdrop"};j.__docgenInfo={description:"",methods:[],displayName:"ContextMenuPositioner"};y.__docgenInfo={description:"",methods:[],displayName:"ContextMenuPopup"};W.__docgenInfo={description:"",methods:[],displayName:"ContextMenuArrow"};p.__docgenInfo={description:"",methods:[],displayName:"ContextMenuItem"};b.__docgenInfo={description:"",methods:[],displayName:"ContextMenuSeparator"};$.__docgenInfo={description:"",methods:[],displayName:"ContextMenuGroup"};F.__docgenInfo={description:"",methods:[],displayName:"ContextMenuGroupLabel"};H.__docgenInfo={description:"",methods:[],displayName:"ContextMenuRadioGroup"};J.__docgenInfo={description:"",methods:[],displayName:"ContextMenuRadioItem"};K.__docgenInfo={description:"",methods:[],displayName:"ContextMenuRadioItemIndicator",props:{keepMounted:{defaultValue:{value:"true",computed:!1},required:!1}}};Q.__docgenInfo={description:"",methods:[],displayName:"ContextMenuCheckboxItem"};Z.__docgenInfo={description:"",methods:[],displayName:"ContextMenuCheckboxItemIndicator",props:{keepMounted:{defaultValue:{value:"true",computed:!1},required:!1}}};L.__docgenInfo={description:"",methods:[],displayName:"ContextMenuSubmenuTrigger"};const Bt={title:"Components/Context Menu",decorators:[n=>e.jsx("div",{style:{display:"flex",justifyContent:"center"},children:e.jsx(n,{})})]},N={render:()=>e.jsxs(Ye,{children:[e.jsx(w,{children:"右クリックで開く"}),e.jsx(q,{children:e.jsx(j,{children:e.jsx(y,{children:e.jsxs(V,{children:[e.jsxs(p,{children:[e.jsx("span",{className:r.ItemLabel,children:"複製"}),e.jsx("span",{className:r.ItemRight,children:e.jsx("span",{className:r.ItemShortcut,children:"⌘D"})})]}),e.jsx(p,{children:e.jsx("span",{className:r.ItemLabel,children:"共有"})}),e.jsx(b,{}),e.jsxs(Xe,{children:[e.jsxs(L,{children:[e.jsx("span",{className:r.ItemLabel,children:"移動"}),e.jsx("span",{className:r.ItemTrailingIcon,children:e.jsx(ae,{name:"caret-right",size:16})})]}),e.jsx(q,{children:e.jsx(j,{alignOffset:-4,sideOffset:-4,children:e.jsx(y,{children:e.jsxs(V,{children:[e.jsx(p,{children:e.jsx("span",{className:r.ItemLabel,children:"作業用"})}),e.jsx(p,{children:e.jsx("span",{className:r.ItemLabel,children:"アーカイブ"})})]})})})})]}),e.jsx(b,{}),e.jsx(p,{children:e.jsx("span",{className:r.ItemLabel,children:"削除"})})]})})})})]})};N.parameters={...N.parameters,docs:{...N.parameters?.docs,source:{originalSource:`{
  render: () => <ContextMenuRoot>
      <ContextMenuTrigger>右クリックで開く</ContextMenuTrigger>
      <ContextMenuPortal>
        <ContextMenuPositioner>
          <ContextMenuPopup>
            <ContextMenuContent>
              <ContextMenuItem>
                <span className={menuStyles.ItemLabel}>複製</span>
                <span className={menuStyles.ItemRight}>
                  <span className={menuStyles.ItemShortcut}>⌘D</span>
                </span>
              </ContextMenuItem>
              <ContextMenuItem>
                <span className={menuStyles.ItemLabel}>共有</span>
              </ContextMenuItem>
              <ContextMenuSeparator />
              <ContextMenuSubmenuRoot>
                <ContextMenuSubmenuTrigger>
                  <span className={menuStyles.ItemLabel}>移動</span>
                  <span className={menuStyles.ItemTrailingIcon}>
                    <Icon name="caret-right" size={16} />
                  </span>
                </ContextMenuSubmenuTrigger>
                <ContextMenuPortal>
                  <ContextMenuPositioner alignOffset={-4} sideOffset={-4}>
                    <ContextMenuPopup>
                      <ContextMenuContent>
                        <ContextMenuItem>
                          <span className={menuStyles.ItemLabel}>作業用</span>
                        </ContextMenuItem>
                        <ContextMenuItem>
                          <span className={menuStyles.ItemLabel}>アーカイブ</span>
                        </ContextMenuItem>
                      </ContextMenuContent>
                    </ContextMenuPopup>
                  </ContextMenuPositioner>
                </ContextMenuPortal>
              </ContextMenuSubmenuRoot>
              <ContextMenuSeparator />
              <ContextMenuItem>
                <span className={menuStyles.ItemLabel}>削除</span>
              </ContextMenuItem>
            </ContextMenuContent>
          </ContextMenuPopup>
        </ContextMenuPositioner>
      </ContextMenuPortal>
    </ContextMenuRoot>
}`,...N.parameters?.docs?.source}}};const Ut=["Default"];export{N as Default,Ut as __namedExportsOrder,Bt as default};
