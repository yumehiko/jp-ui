import{j as e}from"./jsx-runtime-u17CrQMm.js";import{c as ae,I as ue}from"./createReactComponent-BVoNDKa1.js";import{C as ie,M as ce,a as me,u as le,b as pe,f as de,c as xe,d as fe,e as Me,m as r,g as Ce,h as he,i as ge,j as Ie,k as Re,l as Ne,n as je,o as ye,p as be,q as Se,r as Te,s as _e}from"./Menu.module-DB1DX8w8.js";import{r as s}from"./iframe-DCTwtVEg.js";import{u as Pe,m as u,c as we}from"./mergeClassName-CGuaxy8D.js";import{u as ke}from"./useId-DhseFPV0.js";import{o as A}from"./owner-CvMgaIeV.js";import{u as B}from"./useTimeout-D67vsree.js";import{c as U,h as Le,t as ve}from"./createBaseUIEventDetails-BDhVKG5E.js";import{p as Ee}from"./popupStateMapping-D9WKduT9.js";import{g as Y,c as R}from"./element-C8qsRkBu.js";import{s as Oe}from"./event-CNRsvx7q.js";import{u as Ge}from"./useRender-BavQ6iTs.js";import{S as De}from"./Separator-BeOlmKtI.js";import"./useOpenChangeComplete-CAiTarFg.js";import"./useStableCallback-BlvU505D.js";import"./useValueAsRef-BBKeM-2h.js";import"./index-zOVaSaDz.js";import"./index-DT-vH3A5.js";import"./useAnimationFrame-DjvyS4jC.js";import"./useOnMount-CchHJru6.js";import"./useControlled-C-9u02Ss.js";import"./useCompositeListItem-DQGumxn-.js";import"./useBaseUiId-DBEJHERS.js";import"./useTransitionStatus-BGkF8oIU.js";import"./ToolbarRootContext-BBYdvADq.js";import"./composite-CJk-2jGs.js";import"./floating-ui.utils.dom-CWuwp5es.js";import"./getDisabledMountTransitionStyles-CjB8mk2n.js";import"./useHoverReferenceInteraction-BT5XQgOm.js";import"./safePolygon-C3u_W5Q0.js";import"./constants-CNjsXAL1.js";import"./useInteractions-DGgngZ7b.js";import"./InternalBackdrop-Dm5KPtnK.js";import"./detectBrowser-CYw91I8L.js";import"./visuallyHidden-CbwUG2x5.js";import"./inertValue-B7yfhbfC.js";import"./useAnchorPositioning-z85Juv3n.js";import"./floating-ui.utils-CtlI5I81.js";import"./DirectionContext-gps4P05p.js";import"./useSyncedFloatingRootContext-BgTE0OEs.js";import"./getEmptyRootContext-BcmOMSAW.js";import"./useRole-DtTen0yF.js";import"./useListNavigation-CQ0tcvfh.js";import"./composite-BpyLfiE4.js";import"./useTypeahead-j2PqVkU7.js";import"./useButton-BBNhskDs.js";import"./useClick-jhZSDhhO.js";import"./preload-helper-ClwkVg-s.js";const Ae=[["path",{d:"M10 18l6 -6l-6 -6v12",key:"svg-0"}]],Be=ae("outline","caret-right","CaretRight",Ae);function Ue(n){const[t,o]=s.useState({getBoundingClientRect(){return DOMRect.fromRect({width:0,height:0,x:0,y:0})}}),d=s.useRef(null),L=s.useRef(null),S=s.useRef(null),T=s.useRef(null),M=s.useRef(!0),C=s.useRef(null),x=ke(),_=s.useMemo(()=>({anchor:t,setAnchor:o,actionsRef:S,backdropRef:d,internalBackdropRef:L,positionerRef:T,allowMouseUpTriggerRef:M,initialCursorPointRef:C,rootId:x}),[t,x]);return e.jsx(ie.Provider,{value:_,children:e.jsx(ce.Provider,{value:void 0,children:e.jsx(me,{...n})})})}const X=500,Ye=s.forwardRef(function(t,o){const{render:d,className:L,...S}=t,{setAnchor:T,actionsRef:M,internalBackdropRef:C,backdropRef:x,positionerRef:_,allowMouseUpTriggerRef:P,initialCursorPointRef:ee,rootId:v}=le(!1),{store:te}=pe(!1),E=te.useState("open"),h=s.useRef(null),l=s.useRef(null),g=B(),O=B(),I=s.useRef(!1);function G(a,i,c){const m=c.type.startsWith("touch");ee.current={x:a,y:i},T({getBoundingClientRect(){return DOMRect.fromRect({width:m?10:0,height:m?10:0,x:a,y:i})}}),I.current=!1,M.current?.setOpen(!0,U(ve,c)),O.start(X,()=>{I.current=!0})}function ne(a){P.current=!0,Oe(a),G(a.clientX,a.clientY,a.nativeEvent),A(h.current).addEventListener("mouseup",c=>{if(P.current=!1,!I.current)return;O.clear(),I.current=!1;const m=Y(c);R(_.current,m)||v&&m&&de(m)===v||M.current?.setOpen(!1,U(Le,c))},{once:!0})}function oe(a){if(P.current=!1,a.touches.length===1){a.stopPropagation();const i=a.touches[0];l.current={x:i.clientX,y:i.clientY},g.start(X,()=>{l.current&&G(l.current.x,l.current.y,a.nativeEvent)})}}function se(a){if(g.isStarted()&&l.current&&a.touches.length===1){const i=a.touches[0],c=10,m=Math.abs(i.clientX-l.current.x),f=Math.abs(i.clientY-l.current.y);(m>c||f>c)&&g.clear()}}function D(){g.clear(),l.current=null}s.useEffect(()=>{function a(c){const f=Y(c);(R(h.current,f)||R(C.current,f)||R(x.current,f))&&c.preventDefault()}const i=A(h.current);return i.addEventListener("contextmenu",a),()=>{i.removeEventListener("contextmenu",a)}},[x,C]);const re=s.useMemo(()=>({open:E}),[E]);return Pe("div",t,{state:re,ref:[h,o],props:[{onContextMenu:ne,onTouchStart:oe,onTouchMove:se,onTouchEnd:D,onTouchCancel:D,style:{WebkitTouchCallout:"none"}},S],stateAttributesMapping:Ee})}),Xe="_Trigger_hlktv_1",qe={Trigger:Xe},Ve=Ue,w=s.forwardRef(({className:n,...t},o)=>e.jsx(Ye,{ref:o,className:u(n,qe.Trigger),...t}));w.displayName="ContextMenuTrigger";const q=xe,z=s.forwardRef(({className:n,...t},o)=>e.jsx(Ie,{ref:o,className:u(n,r.Backdrop),...t}));z.displayName="ContextMenuBackdrop";const j=s.forwardRef(({className:n,...t},o)=>e.jsx(Me,{ref:o,className:u(n,r.Positioner),...t}));j.displayName="ContextMenuPositioner";const y=s.forwardRef(({className:n,...t},o)=>e.jsx(Ce,{ref:o,className:u(n,r.Popup),...t}));y.displayName="ContextMenuPopup";const W=s.forwardRef(({className:n,...t},o)=>e.jsx(Re,{ref:o,className:u(n,r.Arrow),...t}));W.displayName="ContextMenuArrow";const p=s.forwardRef(({className:n,...t},o)=>e.jsx(he,{ref:o,className:u(n,r.Item),...t}));p.displayName="ContextMenuItem";const b=s.forwardRef(({className:n,...t},o)=>e.jsx(De,{ref:o,className:u(n,r.Separator),...t}));b.displayName="ContextMenuSeparator";function V({render:n,...t}){return Ge({defaultTagName:"div",render:n,props:we({className:r.Content},t)})}const $=s.forwardRef(({className:n,...t},o)=>e.jsx(Ne,{ref:o,className:u(n,r.Group),...t}));$.displayName="ContextMenuGroup";const F=s.forwardRef(({className:n,...t},o)=>e.jsx(je,{ref:o,className:u(n,r.GroupLabel),...t}));F.displayName="ContextMenuGroupLabel";const H=s.forwardRef(({className:n,...t},o)=>e.jsx(ye,{ref:o,className:u(n,r.RadioGroup),...t}));H.displayName="ContextMenuRadioGroup";const J=s.forwardRef(({className:n,...t},o)=>e.jsx(be,{ref:o,className:u(n,r.OptionItem),...t}));J.displayName="ContextMenuRadioItem";const K=s.forwardRef(({className:n,keepMounted:t=!0,...o},d)=>e.jsx(Se,{ref:d,keepMounted:t,className:u(n,r.OptionIndicator),...o}));K.displayName="ContextMenuRadioItemIndicator";const Q=s.forwardRef(({className:n,...t},o)=>e.jsx(Te,{ref:o,className:u(n,r.OptionItem),...t}));Q.displayName="ContextMenuCheckboxItem";const Z=s.forwardRef(({className:n,keepMounted:t=!0,...o},d)=>e.jsx(_e,{ref:d,keepMounted:t,className:u(n,r.OptionIndicator),...o}));Z.displayName="ContextMenuCheckboxItemIndicator";const ze=fe,k=s.forwardRef(({className:n,...t},o)=>e.jsx(ge,{ref:o,className:u(n,r.SubmenuTrigger),...t}));k.displayName="ContextMenuSubmenuTrigger";w.__docgenInfo={description:"",methods:[],displayName:"ContextMenuTrigger"};z.__docgenInfo={description:"",methods:[],displayName:"ContextMenuBackdrop"};j.__docgenInfo={description:"",methods:[],displayName:"ContextMenuPositioner"};y.__docgenInfo={description:"",methods:[],displayName:"ContextMenuPopup"};W.__docgenInfo={description:"",methods:[],displayName:"ContextMenuArrow"};p.__docgenInfo={description:"",methods:[],displayName:"ContextMenuItem"};b.__docgenInfo={description:"",methods:[],displayName:"ContextMenuSeparator"};$.__docgenInfo={description:"",methods:[],displayName:"ContextMenuGroup"};F.__docgenInfo={description:"",methods:[],displayName:"ContextMenuGroupLabel"};H.__docgenInfo={description:"",methods:[],displayName:"ContextMenuRadioGroup"};J.__docgenInfo={description:"",methods:[],displayName:"ContextMenuRadioItem"};K.__docgenInfo={description:"",methods:[],displayName:"ContextMenuRadioItemIndicator",props:{keepMounted:{defaultValue:{value:"true",computed:!1},required:!1}}};Q.__docgenInfo={description:"",methods:[],displayName:"ContextMenuCheckboxItem"};Z.__docgenInfo={description:"",methods:[],displayName:"ContextMenuCheckboxItemIndicator",props:{keepMounted:{defaultValue:{value:"true",computed:!1},required:!1}}};k.__docgenInfo={description:"",methods:[],displayName:"ContextMenuSubmenuTrigger"};const Xt={title:"Components/Context Menu",decorators:[n=>e.jsx("div",{style:{display:"flex",justifyContent:"center"},children:e.jsx(n,{})})]},N={render:()=>e.jsxs(Ve,{children:[e.jsx(w,{children:"右クリックで開く"}),e.jsx(q,{children:e.jsx(j,{children:e.jsx(y,{children:e.jsxs(V,{children:[e.jsxs(p,{children:[e.jsx("span",{className:r.ItemLabel,children:"複製"}),e.jsx("span",{className:r.ItemRight,children:e.jsx("span",{className:r.ItemShortcut,children:"⌘D"})})]}),e.jsx(p,{children:e.jsx("span",{className:r.ItemLabel,children:"共有"})}),e.jsx(b,{}),e.jsxs(ze,{children:[e.jsxs(k,{children:[e.jsx("span",{className:r.ItemLabel,children:"移動"}),e.jsx("span",{className:r.ItemTrailingIcon,children:e.jsx(ue,{icon:Be,size:16})})]}),e.jsx(q,{children:e.jsx(j,{alignOffset:-4,sideOffset:-4,children:e.jsx(y,{children:e.jsxs(V,{children:[e.jsx(p,{children:e.jsx("span",{className:r.ItemLabel,children:"作業用"})}),e.jsx(p,{children:e.jsx("span",{className:r.ItemLabel,children:"アーカイブ"})})]})})})})]}),e.jsx(b,{}),e.jsx(p,{children:e.jsx("span",{className:r.ItemLabel,children:"削除"})})]})})})})]})};N.parameters={...N.parameters,docs:{...N.parameters?.docs,source:{originalSource:`{
  render: () => <ContextMenuRoot>
      <ContextMenuTrigger>右クリックで開く</ContextMenuTrigger>
      <ContextMenuPortal>
        <ContextMenuPositioner>
          <ContextMenuPopup>
            <ContextMenuContent>
              <ContextMenuItem>
                <span className={menuStyles.ItemLabel}>複製</span>
                <span className={menuStyles.ItemRight}>
                  <span className={menuStyles.ItemShortcut}>⌘D</span>
                </span>
              </ContextMenuItem>
              <ContextMenuItem>
                <span className={menuStyles.ItemLabel}>共有</span>
              </ContextMenuItem>
              <ContextMenuSeparator />
              <ContextMenuSubmenuRoot>
                <ContextMenuSubmenuTrigger>
                  <span className={menuStyles.ItemLabel}>移動</span>
                  <span className={menuStyles.ItemTrailingIcon}>
                    <Icon icon={IconCaretRight} size={16} />
                  </span>
                </ContextMenuSubmenuTrigger>
                <ContextMenuPortal>
                  <ContextMenuPositioner alignOffset={-4} sideOffset={-4}>
                    <ContextMenuPopup>
                      <ContextMenuContent>
                        <ContextMenuItem>
                          <span className={menuStyles.ItemLabel}>作業用</span>
                        </ContextMenuItem>
                        <ContextMenuItem>
                          <span className={menuStyles.ItemLabel}>アーカイブ</span>
                        </ContextMenuItem>
                      </ContextMenuContent>
                    </ContextMenuPopup>
                  </ContextMenuPositioner>
                </ContextMenuPortal>
              </ContextMenuSubmenuRoot>
              <ContextMenuSeparator />
              <ContextMenuItem>
                <span className={menuStyles.ItemLabel}>削除</span>
              </ContextMenuItem>
            </ContextMenuContent>
          </ContextMenuPopup>
        </ContextMenuPositioner>
      </ContextMenuPortal>
    </ContextMenuRoot>
}`,...N.parameters?.docs?.source}}};const qt=["Default"];export{N as Default,qt as __namedExportsOrder,Xt as default};
