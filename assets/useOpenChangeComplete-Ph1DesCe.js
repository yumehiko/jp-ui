import{r as m}from"./iframe-DEeGeQmx.js";import{u as f}from"./useStableCallback-DO7h5Pr5.js";import{u as p}from"./useValueAsRef-BrOSccPP.js";import{r as l}from"./index-Kut21IzS.js";import{u as g}from"./useAnimationFrame-DWy1HDF3.js";function d(n){return n==null?n:"current"in n?n.current:n}function S(n,u=!1,r=!0){const s=g();return f((o,e=null)=>{s.cancel();const t=d(n);t!=null&&(typeof t.getAnimations!="function"||globalThis.BASE_UI_ANIMATIONS_DISABLED?o():s.request(()=>{function i(){t&&Promise.all(t.getAnimations().map(a=>a.finished)).then(()=>{e!=null&&e.aborted||l.flushSync(o)}).catch(()=>{if(r){if(e!=null&&e.aborted)return;l.flushSync(o)}else t.getAnimations().length>0&&t.getAnimations().some(a=>a.pending||a.playState!=="finished")&&i()})}u?s.request(i):i()}))})}let c=(function(n){return n.startingStyle="data-starting-style",n.endingStyle="data-ending-style",n})({});const A={[c.startingStyle]:""},h={[c.endingStyle]:""},_={transitionStatus(n){return n==="starting"?A:n==="ending"?h:null}};function E(n){const{enabled:u=!0,open:r,ref:s,onComplete:o}=n,e=p(r),t=f(o),i=S(s,r);m.useEffect(()=>{u&&i(()=>{r===e.current&&t()})},[u,r,t,i,e])}export{c as T,S as a,d as r,_ as t,E as u};
